{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst BASE_URL = 'https://pixabay.com/api';\nconst galleryContainer = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\n\ndocument.addEventListener('DOMContentLoaded', function () {\n  document.querySelector('.form').addEventListener('submit', function (event) {\n    event.preventDefault();\n\n    loader.style.display = 'block';\n\n    const searchQuery = document.querySelector('.input').value;\n    searchImages(searchQuery);\n  });\n});\n\nasync function searchImages(query) {\n  const searchParams = {\n    key: '41530173-f95b78bdec41263a85620f647',\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: 'true',\n  };\n\n  try {\n    const response = await axios.get(\n      `${BASE_URL}/?${new URLSearchParams(searchParams)}`\n    );\n\n    loader.style.display = 'none';\n    loader.classList.remove('loader--active');\n\n    displayImages(data.hits);\n  } catch (error) {\n    loader.style.display = 'none';\n    loader.classList.remove('loader--active');\n\n    showErrorToast();\n  }\n\n  function displayImages(images) {\n    galleryContainer.innerHTML = '';\n\n    if (images.length > 0) {\n      const imageCards = images.map(image => {\n        const card = document.createElement('div');\n        card.classList.add('card');\n\n        const largeImageLink = document.createElement('a');\n        largeImageLink.href = image.largeImageURL;\n        largeImageLink.dataset.lightbox = 'gallery';\n        largeImageLink.setAttribute('data-title', image.tags);\n\n        const img = document.createElement('img');\n        img.src = image.webformatURL;\n        img.alt = image.tags;\n\n        largeImageLink.appendChild(img);\n\n        card.appendChild(largeImageLink);\n\n        const details = document.createElement('div');\n        details.classList.add('details');\n\n        const likes = document.createElement('p');\n        likes.textContent = `Likes: ${image.likes}`;\n        details.appendChild(likes);\n\n        const views = document.createElement('p');\n        views.textContent = `Views: ${image.views}`;\n        details.appendChild(views);\n\n        const comments = document.createElement('p');\n        comments.textContent = `Comments: ${image.comments}`;\n        details.appendChild(comments);\n\n        const downloads = document.createElement('p');\n        downloads.textContent = `Downloads: ${image.downloads}`;\n        details.appendChild(downloads);\n\n        card.appendChild(details);\n\n        return card;\n      });\n\n      galleryContainer.append(...imageCards);\n\n      const lightbox = new SimpleLightbox('.gallery a', {});\n      lightbox.refresh();\n    } else {\n      showNoImagesFoundToast();\n    }\n  }\n}\n\nfunction showErrorToast() {\n  iziToast.error({\n    title: 'Error',\n    message: 'An error occurred. Please try again later.',\n  });\n}\n\nfunction showNoImagesFoundToast() {\n  iziToast.info({\n    title: 'No Images Found',\n    message:\n      'Sorry, there are no images matching your search query. Please try again!',\n  });\n}\n"],"names":["BASE_URL","galleryContainer","loader","event","searchQuery","searchImages","query","searchParams","response","axios","displayImages","showErrorToast","images","imageCards","image","card","largeImageLink","img","details","likes","views","comments","downloads","SimpleLightbox","showNoImagesFoundToast","iziToast"],"mappings":"owBAMA,MAAMA,EAAW,0BACXC,EAAmB,SAAS,cAAc,UAAU,EACpDC,EAAS,SAAS,cAAc,SAAS,EAE/C,SAAS,iBAAiB,mBAAoB,UAAY,CACxD,SAAS,cAAc,OAAO,EAAE,iBAAiB,SAAU,SAAUC,EAAO,CAC1EA,EAAM,eAAc,EAEpBD,EAAO,MAAM,QAAU,QAEvB,MAAME,EAAc,SAAS,cAAc,QAAQ,EAAE,MACrDC,EAAaD,CAAW,CAC5B,CAAG,CACH,CAAC,EAED,eAAeC,EAAaC,EAAO,CACjC,MAAMC,EAAe,CACnB,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MAChB,EAEE,GAAI,CACF,MAAME,EAAW,MAAMC,EAAM,IAC3B,GAAGT,MAAa,IAAI,gBAAgBO,CAAY,GACtD,EAEIL,EAAO,MAAM,QAAU,OACvBA,EAAO,UAAU,OAAO,gBAAgB,EAExCQ,EAAc,KAAK,IAAI,CACxB,MAAC,CACAR,EAAO,MAAM,QAAU,OACvBA,EAAO,UAAU,OAAO,gBAAgB,EAExCS,GACD,CAED,SAASD,EAAcE,EAAQ,CAG7B,GAFAX,EAAiB,UAAY,GAEzBW,EAAO,OAAS,EAAG,CACrB,MAAMC,EAAaD,EAAO,IAAIE,GAAS,CACrC,MAAMC,EAAO,SAAS,cAAc,KAAK,EACzCA,EAAK,UAAU,IAAI,MAAM,EAEzB,MAAMC,EAAiB,SAAS,cAAc,GAAG,EACjDA,EAAe,KAAOF,EAAM,cAC5BE,EAAe,QAAQ,SAAW,UAClCA,EAAe,aAAa,aAAcF,EAAM,IAAI,EAEpD,MAAMG,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,IAAMH,EAAM,aAChBG,EAAI,IAAMH,EAAM,KAEhBE,EAAe,YAAYC,CAAG,EAE9BF,EAAK,YAAYC,CAAc,EAE/B,MAAME,EAAU,SAAS,cAAc,KAAK,EAC5CA,EAAQ,UAAU,IAAI,SAAS,EAE/B,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,UAAUL,EAAM,QACpCI,EAAQ,YAAYC,CAAK,EAEzB,MAAMC,EAAQ,SAAS,cAAc,GAAG,EACxCA,EAAM,YAAc,UAAUN,EAAM,QACpCI,EAAQ,YAAYE,CAAK,EAEzB,MAAMC,EAAW,SAAS,cAAc,GAAG,EAC3CA,EAAS,YAAc,aAAaP,EAAM,WAC1CI,EAAQ,YAAYG,CAAQ,EAE5B,MAAMC,EAAY,SAAS,cAAc,GAAG,EAC5C,OAAAA,EAAU,YAAc,cAAcR,EAAM,YAC5CI,EAAQ,YAAYI,CAAS,EAE7BP,EAAK,YAAYG,CAAO,EAEjBH,CACf,CAAO,EAEDd,EAAiB,OAAO,GAAGY,CAAU,EAEpB,IAAIU,EAAe,aAAc,CAAE,CAAA,EAC3C,QAAO,CACtB,MACMC,GAEH,CACH,CAEA,SAASb,GAAiB,CACxBc,EAAS,MAAM,CACb,MAAO,QACP,QAAS,4CACb,CAAG,CACH,CAEA,SAASD,GAAyB,CAChCC,EAAS,KAAK,CACZ,MAAO,kBACP,QACE,0EACN,CAAG,CACH"}