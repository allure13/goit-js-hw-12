import{a as k,S as x,i as g}from"./assets/vendor-bad0427b.js";(function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))i(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const o of t.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function m(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?t.credentials="include":e.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function i(e){if(e.ep)return;e.ep=!0;const t=m(e);fetch(e.href,t)}})();const I="https://pixabay.com/api",S=document.querySelector(".gallery"),u=document.querySelector(".loader"),h=document.querySelector(".load-more"),f=40;let s=1,p="",L=!0;document.addEventListener("DOMContentLoaded",function(){document.querySelector(".form").addEventListener("submit",function(l){l.preventDefault(),u.style.display="block",p=document.querySelector(".input").value,s=1,L=!0,v(p)})});h.addEventListener("click",async()=>{u.style.display="block",L=!1,v(p)});async function v(l){const a={key:"41530173-f95b78bdec41263a85620f647",q:l,image_type:"photo",orientation:"horizontal",safesearch:"true",per_page:f,page:s};try{const e=await k.get(`${I}/?${new URLSearchParams(a)}`);m(e.data,f),i(e.data,f)}catch{M()}finally{u.style.display="none",u.classList.remove("loader--active")}function m(e,t){if(e.hits.length>0){L&&(S.innerHTML="");const q=e.hits.map(n=>{const c=document.createElement("div");c.classList.add("card");const d=document.createElement("a");d.href=n.largeImageURL,d.dataset.lightbox="gallery";const y=document.createElement("img");y.src=n.webformatURL,y.alt=n.tags,d.appendChild(y),c.appendChild(d);const r=document.createElement("div");r.classList.add("details");const b=document.createElement("p");b.textContent=`Likes: ${n.likes}`,r.appendChild(b);const w=document.createElement("p");w.textContent=`Views: ${n.views}`,r.appendChild(w);const C=document.createElement("p");C.textContent=`Comments: ${n.comments}`,r.appendChild(C);const E=document.createElement("p");return E.textContent=`Downloads: ${n.downloads}`,r.appendChild(E),c.appendChild(r),c.outerHTML});S.insertAdjacentHTML("beforeend",q.join("")),new x(".gallery a",{}).refresh(),document.querySelector(".load-more").style.display="block",(e.hits.length<t||s*t>=e.totalHits)&&(h.style.display="none"),s*t>=e.totalHits&&H(),s+=1}else T(),h.style.display="none";const o=document.querySelector(".card").getBoundingClientRect().height;window.scrollBy({top:o*2,behavior:"smooth"})}function i(e,t){const o=document.querySelector(".load-more");o.style.display="block",(e.hits.length<t||s*t>=e.totalHits)&&(o.style.display="none")}}function H(){g.info({title:"End of Search Results",message:"We're sorry, but you've reached the end of search results."})}function M(){g.error({title:"Error",message:"An error occurred. Please try again later."})}function T(){g.info({title:"No Images Found",message:"Sorry, there are no images matching your search query. Please try again!"})}
//# sourceMappingURL=commonHelpers.js.map
